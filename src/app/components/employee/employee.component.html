<div class="row mt-4">
    <div class="col-12 col-md-8">
        <div class="card">
            <div class="card-header bg-success text-white fs-4 fs-md-5">Employee List</div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Sr No</th>
                                <th>Employee Name</th>
                                <th>Employee Code</th>
                                <th>Email</th>
                                <th>Role</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let employee of employeeList | paginate: { itemsPerPage: 10, currentPage: currentPage}; let i = index">
                                <td>{{ i + 1 }}</td>
                                <td>{{ employee?.empName }}</td>
                                <td>{{ employee?.empCode }}</td>
                                <td>{{ employee?.empEmailId }}</td>
                                <td>{{ employee?.role }}</td>
                                <td>
                                    <button class="btn btn-danger btn-sm" (click)="onDelete(employee?.empId)">Delete</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <pagination-controls (pageChange)="currentPage = $event"></pagination-controls>
            </div>
        </div>
    </div>

    <div class="col-12 col-md-4">
        <div class="card">
            <div class="card-header bg-success text-white fs-4 fs-md-5">
                New Employee
            </div>
            <div class="card-body">
                <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()">
                    <div class="row">
 
                      <div class="col-12 col-sm-6">
                        <label for="empName">Employee Name <span class="text-danger">*</span></label>
                        <input id="empName" formControlName="empName" type="text" class="form-control" />
                        <div *ngIf="employeeForm.get('empName')?.invalid && employeeForm.get('empName')?.touched" class="text-danger">
                          Employee name is required.
                        </div>
                      </div>
                  
                      <div class="col-12 col-sm-6">
                        <label for="empCode">Employee Code <span class="text-danger">*</span></label>
                        <input id="empCode" formControlName="empCode" type="text" class="form-control" />
                        <div *ngIf="employeeForm.get('empCode')?.invalid && employeeForm.get('empCode')?.touched" class="text-danger">
                          Employee code is required.
                        </div>
                      </div>
                  
                      <div class="col-12 col-sm-6">
                        <label for="empEmailId">Email <span class="text-danger">*</span></label>
                        <input id="empEmailId" formControlName="empEmailId" type="email" class="form-control" />
                        <div *ngIf="employeeForm.get('empEmailId')?.invalid && employeeForm.get('empEmailId')?.touched" class="text-danger">
                          <div *ngIf="employeeForm.get('empEmailId')?.errors?.['required']">Email is required.</div>
                          <div *ngIf="employeeForm.get('empEmailId')?.errors?.['email']">Invalid email format.</div>
                        </div>
                      </div>
                  
                      <div class="col-12 col-sm-6">
                        <label for="empContactNo">Contact No <span class="text-danger">*</span></label>
                        <input id="empContactNo" formControlName="empContactNo" type="tel" class="form-control" />
                        <div *ngIf="employeeForm.get('empContactNo')?.invalid && employeeForm.get('empContactNo')?.touched" class="text-danger">
                          Contact number is required.
                        </div>
                      </div>
                  
                      <div class="col-12 col-sm-6">
                        <label for="empAltContactNo">Alternate Contact No</label>
                        <input id="empAltContactNo" formControlName="empAltContactNo" type="tel" class="form-control" />
                      </div>
                  
                      <div class="col-12 col-sm-6">
                        <label for="empPersonalEmailId">Personal Email</label>
                        <input id="empPersonalEmailId" formControlName="empPersonalEmailId" type="email" class="form-control" />
                        <div *ngIf="employeeForm.get('empPersonalEmailId')?.invalid && employeeForm.get('empPersonalEmailId')?.touched" class="text-danger">
                          Invalid email format.
                        </div>
                      </div>
                  
                      <div class="col-12 col-sm-6">
                        <label for="empExpTotalYear">Experience (Years) <span class="text-danger">*</span></label>
                        <input id="empExpTotalYear" formControlName="empExpTotalYear" type="number" class="form-control" />
                        <div *ngIf="employeeForm.get('empExpTotalYear')?.invalid && employeeForm.get('empExpTotalYear')?.touched" class="text-danger">
                          Experience year is required.
                        </div>
                      </div>
                  
                      <div class="col-12 col-sm-6">
                        <label for="empExpTotalMonth">Experience (Months) <span class="text-danger">*</span></label>
                        <input id="empExpTotalMonth" formControlName="empExpTotalMonth" type="number" class="form-control" />
                        <div *ngIf="employeeForm.get('empExpTotalMonth')?.invalid && employeeForm.get('empExpTotalMonth')?.touched" class="text-danger">
                          Experience months is required.
                        </div>
                      </div>
                  
                      <div class="col-12 col-sm-6">
                        <label for="empCity">City <span class="text-danger">*</span></label>
                        <input id="empCity" formControlName="empCity" type="text" class="form-control" />
                        <div *ngIf="employeeForm.get('empCity')?.invalid && employeeForm.get('empCity')?.touched" class="text-danger">
                          City is required.
                        </div>
                      </div>
                  
                      <div class="col-12 col-sm-6">
                        <label for="empState">State <span class="text-danger">*</span></label>
                        <input id="empState" formControlName="empState" type="text" class="form-control" />
                        <div *ngIf="employeeForm.get('empState')?.invalid && employeeForm.get('empState')?.touched" class="text-danger">
                          State is required.
                        </div>
                      </div>
                  
                      <div class="col-12 col-sm-6">
                        <label for="empPinCode">Pin Code <span class="text-danger">*</span></label>
                        <input id="empPinCode" formControlName="empPinCode" type="text" class="form-control" />
                        <div *ngIf="employeeForm.get('empPinCode')?.invalid && employeeForm.get('empPinCode')?.touched" class="text-danger">
                          Pin code is required.
                        </div>
                      </div>
                      <div class="col-12 col-sm-6">
                        <label for="empAddress">Address <span class="text-danger">*</span></label>
                        <input id="empAddress" formControlName="empAddress" type="text" class="form-control" />
                        <div *ngIf="employeeForm.get('empAddress')?.invalid && employeeForm.get('empAddress')?.touched" class="text-danger">
                          Address is required.
                        </div>
                      </div>
                  

                      <div class="col-12 col-sm-6">
                        <label for="empPerCity">Permanent City <span class="text-danger">*</span></label>
                        <input id="empPerCity" formControlName="empPerCity" type="text" class="form-control" />
                        <div *ngIf="employeeForm.get('empPerCity')?.invalid && employeeForm.get('empPerCity')?.touched" class="text-danger">
                          Permanent city is required.
                        </div>
                      </div>
                  

                      <div class="col-12 col-sm-6">
                        <label for="empPerState">Permanent State <span class="text-danger">*</span></label>
                        <input id="empPerState" formControlName="empPerState" type="text" class="form-control" />
                        <div *ngIf="employeeForm.get('empPerState')?.invalid && employeeForm.get('empPerState')?.touched" class="text-danger">
                          Permanent state is required.
                        </div>
                      </div>
                  

                      <div class="col-12 col-sm-6">
                        <label for="empPerPinCode">Permanent Pin Code <span class="text-danger">*</span></label>
                        <input id="empPerPinCode" formControlName="empPerPinCode" type="text" class="form-control" />
                        <div *ngIf="employeeForm.get('empPerPinCode')?.invalid && employeeForm.get('empPerPinCode')?.touched" class="text-danger">
                          Permanent pin code is required.
                        </div>
                      </div>
                  

                      <div class="col-12 col-sm-6">
                        <label for="empPerAddress">Permanent Address <span class="text-danger">*</span></label>
                        <input id="empPerAddress" formControlName="empPerAddress" type="text" class="form-control" />
                        <div *ngIf="employeeForm.get('empPerAddress')?.invalid && employeeForm.get('empPerAddress')?.touched" class="text-danger">
                          Permanent address is required.
                        </div>
                      </div>
                  

                      <div class="col-12 col-sm-6">
                        <label for="password">Password <span class="text-danger">*</span></label>
                        <input id="password" formControlName="password" type="password" class="form-control" />
                        <div *ngIf="employeeForm.get('password')?.invalid && employeeForm.get('password')?.touched" class="text-danger">
                          Password is required.
                        </div>
                      </div>
                  
                      <div class="col-12 col-sm-6">
                        <label for="leadByEmpId">Select Lead</label>
                        <select id="leadByEmpId" formControlName="leadByEmpId" class="form-control">
                          <option>Select Employee</option>
                          <option *ngFor="let employee of employeeList" [value]="employee.empId">
                            {{ employee?.empName }} - {{ employee?.empCode }}
                          </option>
                        </select>
                      </div>
                  

                      <div class="col-12 col-sm-6">
                        <label for="roleId">Role <span class="text-danger">*</span></label>
                        <select id="roleId" formControlName="roleId" class="form-control">
                          <option value="">Select Role</option>
                          <option *ngFor="let role of roleList" [value]="role.roleId">
                            {{ role?.role }}
                          </option>
                        </select>
                        <div *ngIf="employeeForm.get('roleId')?.invalid && employeeForm.get('roleId')?.touched" class="text-danger">
                          Role is required.
                        </div>
                      </div>
                  

                      <div class="col-12 col-sm-6">
                        <label for="empDesignationId">Designation <span class="text-danger">*</span></label>
                        <select id="empDesignationId" formControlName="empDesignationId" class="form-control">
                          <option value="">Select Designation</option>
                          <option *ngFor="let designation of designationList" [value]="designation.designationId">
                            {{ designation?.designation }}
                          </option>
                        </select>
                        <div *ngIf="employeeForm.get('empDesignationId')?.invalid && employeeForm.get('empDesignationId')?.touched" class="text-danger">
                          Designation is required.
                        </div>
                      </div>
                    </div>
                  
                    <div class="row pt-2">
                      <div class="col-6 text-center">
                        <button class="btn btn-primary mx-1" [disabled]="!employeeForm.valid" type="submit">Save</button>
                      </div>
                      <div class="col-6 text-center">
                        <button class="btn btn-secondary mx-1" (click)="onCancel()">Cancel</button>
                      </div>
                    </div>
                  </form>
                  
            </div>
        </div>
    </div>
</div>

